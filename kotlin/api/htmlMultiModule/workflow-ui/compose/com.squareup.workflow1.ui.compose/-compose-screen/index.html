<!doctype html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>ComposeScreen</title>
<link href="../../../../images/logo-icon.svg" rel="icon" type="image/svg">    <script>var pathToRoot = "../../../../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../../../../scripts/sourceset_dependencies.js" async></script>
<link href="../../../../styles/style.css" rel="Stylesheet">
<link href="../../../../styles/main.css" rel="Stylesheet">
<link href="../../../../styles/prism.css" rel="Stylesheet">
<link href="../../../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../../../styles/font-jb-sans-auto.css" rel="Stylesheet">
<link href="../../../../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../../../../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../../../../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../../../../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../../../../scripts/main.js" defer></script>
<script type="text/javascript" src="../../../../scripts/prism.js" async></script>
<script type="text/javascript" src="../../../../ui-kit/ui-kit.min.js" defer></script>
<script type="text/javascript" src="../../../../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
    <div class="root">
    <nav class="navigation theme-dark" id="navigation-wrapper">
<a class="library-name--link" href="../../../../index.html">
                    workflow
            </a>        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle" type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
        </div>
        <div class="navigation-controls">
        <div class="filter-section filter-section_loading" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":workflow-ui:compose:dokkaHtmlPartial/release">androidJvm</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox" data-role="dropdown-toggle" aria-controls="platform-tags-listbox" aria-haspopup="listbox" aria-expanded="false" aria-label="Toggle source sets"></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox">
                    <div class="dropdown--header"><span>Platform filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close platform filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option jvm-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":workflow-ui:compose:dokkaHtmlPartial/release" data-filter=":workflow-ui:compose:dokkaHtmlPartial/release">
                                <span class="checkbox--icon"></span>
                                androidJvm
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </div>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button" type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                    <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list" data-role="dropdown-listbox">
                        <div class="dropdown--header">
                            <span>
                                    workflow
                            </span>
                            <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                                <i class="ui-kit-icon ui-kit-icon_cross"></i>
                            </button>
                        </div>
                        <div class="sidebar--inner" id="sideMenu"></div>
                    </ul>
                    <div class="dropdown--overlay"></div>
                </div>
            </div>
            <div id="main">
<div class="main-content" data-page-type="classlike" id="content" pageids="workflow-ui-compose::com.squareup.workflow1.ui.compose/ComposeScreen///PointingToDeclaration//232754475">
  <div class="breadcrumbs"><a href="../../index.html">workflow-ui-compose</a><span class="delimiter">/</span><a href="../index.html">com.squareup.workflow1.ui.compose</a><span class="delimiter">/</span><span class="current">ComposeScreen</span></div>
  <div class="cover ">
    <h1 class="cover"><span>Compose</span><wbr><span><span>Screen</span></span></h1>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":workflow-ui:compose:dokkaHtmlPartial/release"><div class="symbol monospace"><span class="token keyword">interface </span><a href="index.html">ComposeScreen</a> : <a href="../../../../workflow-ui/core-common/com.squareup.workflow1.ui/-screen/index.html">Screen</a></div><p class="paragraph">Interface implemented by a rendering class to allow it to drive a composable UI via an appropriate <a href="../-screen-composable-factory/index.html">ScreenComposableFactory</a> implementation, by simply overriding the <a href="-content.html">Content</a> method.</p><p class="paragraph">Note that it is generally an error for a <a href="../../../../workflow-core/com.squareup.workflow1/-workflow/index.html">Workflow</a> to declare <a href="index.html">ComposeScreen</a> as its <code class="lang-kotlin">RenderingT</code> type -- prefer <a href="../../../../workflow-ui/core-common/com.squareup.workflow1.ui/-screen/index.html">Screen</a> for that. <a href="index.html">ComposeScreen</a>, like <a href="../../../../workflow-ui/core-android/com.squareup.workflow1.ui/-android-screen/index.html">AndroidScreen</a>, is strictly a possible implementation detail of <a href="../../../../workflow-ui/core-common/com.squareup.workflow1.ui/-screen/index.html">Screen</a>. It is a convenience to minimize the boilerplate required to set up a <a href="../-screen-composable-factory/index.html">ScreenComposableFactory</a>. (That interface is the fundamental unit of Compose tooling for Workflow UI. But in day to day use, most developer will work with <a href="index.html">ComposeScreen</a> and be only vaguely aware of the existence of <a href="../-screen-composable-factory/index.html">ScreenComposableFactory</a>, so the bulk of our description of working with Compose is here.)</p><p class="paragraph"><strong>NB</strong>: A Workflow app that relies on Compose must call <a href="../with-compose-interop-support.html">withComposeInteropSupport</a> on its top-level <a href="../../../../workflow-ui/core-common/com.squareup.workflow1.ui/-view-environment/index.html">ViewEnvironment</a>. See that function for details.</p><p class="paragraph">Note that unlike most workflow view functions, <a href="-content.html">Content</a> does not take the rendering as a parameter. Instead, the rendering is the receiver, i.e. the current value of <code class="lang-kotlin">this</code>.</p><p class="paragraph">Example:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">data class HelloScreen(
  val message: String,
  val onClick: () -&gt; Unit
) : ComposeScreen {

  @Composable override fun Content(viewEnvironment: ViewEnvironment) {
    Button(onClick) {
      Text(message)
    }
  }
}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This is the simplest way to bridge the gap between your workflows and the UI, but using it requires your workflows code to reside in Android modules and depend upon the Compose runtime, instead of being pure Kotlin. If this is a problem, or you need more flexibility for any other reason, you can use <a href="../../../../workflow-ui/core-common/com.squareup.workflow1.ui/-view-registry/index.html">ViewRegistry</a> to bind your renderings to <a href="../-screen-composable-factory/index.html">ScreenComposableFactory</a> implementations at runtime.</p><h2 class="">Nesting child renderings</h2><p class="paragraph">Workflows can render other workflows, and renderings from one workflow can contain renderings from other workflows. These renderings may all be bound to their own UI factories. A classic <a href="../../../../workflow-ui/core-android/com.squareup.workflow1.ui/-screen-view-factory/index.html">ScreenViewFactory</a> can use <a href="../../../../workflow-ui/core-android/com.squareup.workflow1.ui/-workflow-view-stub/index.html">WorkflowViewStub</a> to recursively show nested renderings.</p><p class="paragraph">Compose-based UI may also show nested renderings. Doing so is as simple as calling <a href="../-workflow-rendering.html">WorkflowRendering</a> and passing in the nested rendering. See the kdoc on that function for an example.</p><p class="paragraph">Nested renderings will have access to any <a href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/CompositionLocal.html">composition locals</a> defined in outer composable, even if there are legacy views in between them, as long as the <a href="../../../../workflow-ui/core-common/com.squareup.workflow1.ui/-view-environment/index.html">ViewEnvironment</a> is propagated continuously between the two factories.</p><h2 class="">Initializing Compose context (Theming)</h2><p class="paragraph">Often all the <a href="../-screen-composable-factory/index.html">ScreenComposableFactory</a> factories in an app need to share some context – for example, certain composition locals need to be provided, such as <code class="lang-kotlin">MaterialTheme</code>. To configure this shared context, call <a href="../with-composition-root.html">withCompositionRoot</a> on your top-level <a href="../../../../workflow-ui/core-common/com.squareup.workflow1.ui/-view-environment/index.html">ViewEnvironment</a>. The first time a <a href="../-screen-composable-factory/index.html">ScreenComposableFactory</a> is used to show a rendering, its <a href="-content.html">Content</a> function will be wrapped with the <a href="../-composition-root/index.html">CompositionRoot</a>. See the documentation on <a href="../-composition-root/index.html">CompositionRoot</a> for more information.</p></div></div>
  </div>
  <div class="tabbedcontent">
    <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="CONSTRUCTOR,TYPE,PROPERTY,FUNCTION">Members</button></div>
    <div class="tabs-section-body">
      <div data-togglable="FUNCTION">
        <h2 class="">Functions</h2>
        <div class="table"><a data-name="1991781863%2FFunctions%2F232754475" anchor-label="Content" id="1991781863%2FFunctions%2F232754475" data-filterable-set=":workflow-ui:compose:dokkaHtmlPartial/release"></a>
          <div class="table-row" data-filterable-current=":workflow-ui:compose:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:compose:dokkaHtmlPartial/release">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-content.html"><span><span>Content</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1991781863%2FFunctions%2F232754475"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":workflow-ui:compose:dokkaHtmlPartial/release"><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation builtin">@</span><a href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/Composable.html"><span class="token annotation builtin">Composable</span></a></div></div><span class="token keyword">abstract </span><span class="token keyword">fun </span><a href="-content.html"><span class="token function">Content</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">The composable content of this rendering. This method will be called with the current rendering instance as the receiver any time a new rendering is emitted.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
    <div class="footer">
        <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
        <span>© 2025 Copyright</span>
        <span class="pull-right">
            <span>Generated by </span>
            <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                <span>dokka</span>
            </a>
        </span>
    </div>
            </div>
        </div>
    </div>
</body>
</html>
