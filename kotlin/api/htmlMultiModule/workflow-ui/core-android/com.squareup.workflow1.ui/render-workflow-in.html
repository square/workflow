<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>renderWorkflowIn</title>
<link href="../../../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../../../";</script>    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async></script>
<link href="../../../styles/style.css" rel="Stylesheet">
<link href="../../../styles/jetbrains-mono.css" rel="Stylesheet">
<link href="../../../styles/main.css" rel="Stylesheet">
<link href="../../../styles/prism.css" rel="Stylesheet">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
<script type="text/javascript" src="../../../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../../../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../../../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../../../scripts/main.js" defer></script>
<script type="text/javascript" src="../../../scripts/prism.js" async></script>
<script type="text/javascript" src="../../../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
<div class="navigation-wrapper" id="navigation-wrapper">
    <div id="leftToggler"><span class="icon-toggler"></span></div>
    <div class="library-name">
<a href="../../../index.html">
<span>workflow</span>            </a>    </div>
    <div>
    </div>
    <div class="pull-right d-flex">
        <button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
    </div>
</div>
<div id="container">
    <div id="leftColumn">
        <div id="sideMenu"></div>
    </div>
    <div id="main">
<div class="main-content" id="content" pageids="workflow-ui-core-android::com.squareup.workflow1.ui//renderWorkflowIn/#com.squareup.workflow1.Workflow[kotlin.Unit,TypeParam(bounds=[kotlin.Any?]),TypeParam(bounds=[kotlin.Any?])]#kotlinx.coroutines.CoroutineScope#androidx.lifecycle.SavedStateHandle?#kotlin.collections.List[com.squareup.workflow1.WorkflowInterceptor]#com.squareup.workflow1.RuntimeConfig#kotlin.coroutines.SuspendFunction1[TypeParam(bounds=[kotlin.Any?]),kotlin.Unit]/PointingToDeclaration//-108279078">
  <div class="breadcrumbs"><a href="../index.html">workflow-ui-core-android</a><span class="delimiter">/</span><a href="index.html">com.squareup.workflow1.ui</a><span class="delimiter">/</span><span class="current">renderWorkflowIn</span></div>
  <div class="cover ">
    <h1 class="cover"><span>render</span><wbr><span>Workflow</span><wbr><span><span>In</span></span></h1>
  </div>
  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation builtin">@</span><a href="../../../workflow-ui/core-android/com.squareup.workflow1.ui/-workflow-ui-experimental-api/index.html"><span class="token annotation builtin">WorkflowUiExperimentalApi</span></a></div></div><span class="token keyword"></span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="render-workflow-in.html">OutputT</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="render-workflow-in.html">RenderingT</a><span class="token operator">&gt; </span><a href="render-workflow-in.html"><span class="token function">renderWorkflowIn</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">workflow<span class="token operator">: </span><a href="../../../workflow-core/com.squareup.workflow1/-workflow/index.html">Workflow</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="render-workflow-in.html">OutputT</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="render-workflow-in.html">RenderingT</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">scope<span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines/CoroutineScope///PointingToDeclaration/">CoroutineScope</span><span class="token punctuation">, </span></span><span class="parameter ">savedStateHandle<span class="token operator">: </span><a href="https://developer.android.com/reference/kotlin/androidx/lifecycle/SavedStateHandle.html">SavedStateHandle</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">interceptors<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../../../workflow-core/com.squareup.workflow1/-workflow-interceptor/index.html">WorkflowInterceptor</a><span class="token operator">&gt;</span><span class="token operator"> = </span>emptyList()<span class="token punctuation">, </span></span><span class="parameter ">runtimeConfig<span class="token operator">: </span><a href="../../../workflow-core/com.squareup.workflow1/-runtime-config/index.html">RuntimeConfig</a><span class="token operator"> = </span>RuntimeConfig.DEFAULT_CONFIG<span class="token punctuation">, </span></span><span class="parameter ">onOutput<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><span class="token keyword"></span><a href="render-workflow-in.html">OutputT</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a><span class="token operator"> = </span>{}</span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines.flow/StateFlow///PointingToDeclaration/">StateFlow</span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="render-workflow-in.html">RenderingT</a><span class="token operator">&gt;</span></div><p class="paragraph">An Android <code class="lang-kotlin">ViewModel</code>-friendly wrapper for <a href="../../../workflow-core/com.squareup.workflow1/index.html">com.squareup.workflow1.renderWorkflowIn</a>, for use with a <a href="render-workflow-in.html">workflow</a> that takes no input (that is, has <code class="lang-kotlin">PropsT</code> set to <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a>).</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@OptIn(WorkflowUiExperimentalApi::class)
class HelloWorkflowActivity : AppCompatActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)

    val model: HelloViewModel by viewModels()
    setContentView(
      WorkflowLayout(this).apply { start(model.renderings) }
    )
  }
}

class HelloViewModel(savedState: SavedStateHandle) : ViewModel() {
  @OptIn(WorkflowUiExperimentalApi::class)
  val renderings: StateFlow = renderWorkflowIn(
    workflow = HelloWorkflow,
    scope = this.viewModelScope,
    savedStateHandle = savedState
  )
}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph">A <span data-unresolved-link="kotlinx.coroutines.flow/StateFlow///PointingToDeclaration/">StateFlow</span> of <a href="render-workflow-in.html">RenderingT</a>s that will emit any time the root workflow creates a new rendering.</p></span><h4 class="">Parameters</h4><div data-togglable="Parameters"><div class="table" data-togglable="Parameters"><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>workflow</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">The root workflow to render.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>scope</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">The <span data-unresolved-link="kotlinx.coroutines/CoroutineScope///PointingToDeclaration/">CoroutineScope</span> in which to launch the workflow runtime, typically from the androidx <code class="lang-kotlin">ViewModel.viewModelScope</code> extension. Any exceptions thrown in any workflows, after the initial render pass, will be handled by this scope, and cancelling this scope will cancel the workflow runtime and any running workers. Note that any dispatcher in this scope will <i>not</i> be used to execute the very first render pass.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>saved</span><wbr><span>State</span><wbr><span><span>Handle</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Used to restore workflow state in a new process. Typically this is the <code class="lang-kotlin">savedState: SavedStateHandle</code> constructor parameter of an androidx <a href="https://developer.android.com/reference/kotlin/androidx/lifecycle/ViewModel.html">ViewModel</a>.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>interceptors</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">An optional list of <a href="../../../workflow-core/com.squareup.workflow1/-workflow-interceptor/index.html">WorkflowInterceptor</a>s that will wrap every workflow rendered by the runtime. Interceptors will be invoked in 0-to-<code class="lang-kotlin">length</code> order: the interceptor at index 0 will process the workflow first, then the interceptor at index 1, etc.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>on</span><wbr><span><span>Output</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">A function that will be called whenever the root workflow emits an <a href="render-workflow-in.html">OutputT</a>. This is a suspend function, and is invoked synchronously within the runtime: if it suspends, the workflow runtime will effectively be paused until it returns. This means that it will propagate backpressure if used to forward outputs to a <span data-unresolved-link="kotlinx.coroutines.flow/Flow///PointingToDeclaration/">Flow</span> or <span data-unresolved-link="kotlinx.coroutines.channels/Channel///PointingToDeclaration/">Channel</span>, for example.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>runtime</span><wbr><span><span>Config</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Configuration for the Workflow Runtime.</p></div></div></div></div></div></div></div><hr><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation builtin">@</span><a href="../../../workflow-ui/core-android/com.squareup.workflow1.ui/-workflow-ui-experimental-api/index.html"><span class="token annotation builtin">WorkflowUiExperimentalApi</span></a></div></div><span class="token keyword"></span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="render-workflow-in.html">PropsT</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="render-workflow-in.html">OutputT</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="render-workflow-in.html">RenderingT</a><span class="token operator">&gt; </span><a href="render-workflow-in.html"><span class="token function">renderWorkflowIn</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">workflow<span class="token operator">: </span><a href="../../../workflow-core/com.squareup.workflow1/-workflow/index.html">Workflow</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="render-workflow-in.html">PropsT</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="render-workflow-in.html">OutputT</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="render-workflow-in.html">RenderingT</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">scope<span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines/CoroutineScope///PointingToDeclaration/">CoroutineScope</span><span class="token punctuation">, </span></span><span class="parameter ">prop<span class="token operator">: </span><a href="render-workflow-in.html">PropsT</a><span class="token punctuation">, </span></span><span class="parameter ">savedStateHandle<span class="token operator">: </span><a href="https://developer.android.com/reference/kotlin/androidx/lifecycle/SavedStateHandle.html">SavedStateHandle</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">interceptors<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../../../workflow-core/com.squareup.workflow1/-workflow-interceptor/index.html">WorkflowInterceptor</a><span class="token operator">&gt;</span><span class="token operator"> = </span>emptyList()<span class="token punctuation">, </span></span><span class="parameter ">runtimeConfig<span class="token operator">: </span><a href="../../../workflow-core/com.squareup.workflow1/-runtime-config/index.html">RuntimeConfig</a><span class="token operator"> = </span>RuntimeConfig.DEFAULT_CONFIG<span class="token punctuation">, </span></span><span class="parameter ">onOutput<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><span class="token keyword"></span><a href="render-workflow-in.html">OutputT</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a><span class="token operator"> = </span>{}</span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines.flow/StateFlow///PointingToDeclaration/">StateFlow</span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="render-workflow-in.html">RenderingT</a><span class="token operator">&gt;</span></div><p class="paragraph">An Android <code class="lang-kotlin">ViewModel</code>-friendly wrapper for <a href="../../../workflow-core/com.squareup.workflow1/index.html">com.squareup.workflow1.renderWorkflowIn</a>, for use with a <a href="render-workflow-in.html">workflow</a> that requires one input value (<a href="render-workflow-in.html">prop</a>) to run.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@OptIn(WorkflowUiExperimentalApi::class)
class HelloNameWorkflowActivity : AppCompatActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)

    val model: HelloNameViewModel by viewModels()
    setContentView(
      WorkflowLayout(this).apply { start(model.renderings) }
    )
  }
}

class HelloNameViewModel(savedState: SavedStateHandle) : ViewModel() {
  @OptIn(WorkflowUiExperimentalApi::class)
  val renderings: StateFlow = renderWorkflowIn(
    workflow = HelloNameWorkflow,
    scope = this.viewModelScope,
    savedStateHandle = savedState,
    prop = "Your name here!"
  )
}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph">A <span data-unresolved-link="kotlinx.coroutines.flow/StateFlow///PointingToDeclaration/">StateFlow</span> of <a href="render-workflow-in.html">RenderingT</a>s that will emit any time the root workflow creates a new rendering.</p></span><h4 class="">Parameters</h4><div data-togglable="Parameters"><div class="table" data-togglable="Parameters"><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>workflow</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">The root workflow to render.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>scope</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">The <span data-unresolved-link="kotlinx.coroutines/CoroutineScope///PointingToDeclaration/">CoroutineScope</span> in which to launch the workflow runtime, typically from the androidx <code class="lang-kotlin">ViewModel.viewModelScope</code> extension. Any exceptions thrown in any workflows, after the initial render pass, will be handled by this scope, and cancelling this scope will cancel the workflow runtime and any running workers. Note that any dispatcher in this scope will <i>not</i> be used to execute the very first render pass.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>prop</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Specifies the sole <a href="render-workflow-in.html">PropsT</a> value to use to render the root workflow. To allow updates, use the <a href="../../../workflow-core/com.squareup.workflow1/index.html">renderWorkflowIn</a> overload with a <code class="lang-kotlin">props: </code><span data-unresolved-link="kotlinx.coroutines.flow/StateFlow///PointingToDeclaration/">StateFlow</span><code class="lang-kotlin">&lt;PropsT&gt;</code> argument instead of this one.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>saved</span><wbr><span>State</span><wbr><span><span>Handle</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Used to restore workflow state in a new process. Typically this is the <code class="lang-kotlin">savedState: SavedStateHandle</code> constructor parameter of an androidx <a href="https://developer.android.com/reference/kotlin/androidx/lifecycle/ViewModel.html">ViewModel</a>.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>interceptors</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">An optional list of <a href="../../../workflow-core/com.squareup.workflow1/-workflow-interceptor/index.html">WorkflowInterceptor</a>s that will wrap every workflow rendered by the runtime. Interceptors will be invoked in 0-to-<code class="lang-kotlin">length</code> order: the interceptor at index 0 will process the workflow first, then the interceptor at index 1, etc.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>on</span><wbr><span><span>Output</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">A function that will be called whenever the root workflow emits an <a href="render-workflow-in.html">OutputT</a>. This is a suspend function, and is invoked synchronously within the runtime: if it suspends, the workflow runtime will effectively be paused until it returns. This means that it will propagate backpressure if used to forward outputs to a <span data-unresolved-link="kotlinx.coroutines.flow/Flow///PointingToDeclaration/">Flow</span> or <span data-unresolved-link="kotlinx.coroutines.channels/Channel///PointingToDeclaration/">Channel</span>, for example.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>runtime</span><wbr><span><span>Config</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Configuration for the Workflow Runtime.</p></div></div></div></div></div></div></div><hr><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation builtin">@</span><a href="../../../workflow-ui/core-android/com.squareup.workflow1.ui/-workflow-ui-experimental-api/index.html"><span class="token annotation builtin">WorkflowUiExperimentalApi</span></a></div></div><span class="token keyword"></span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="render-workflow-in.html">PropsT</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="render-workflow-in.html">OutputT</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="render-workflow-in.html">RenderingT</a><span class="token operator">&gt; </span><a href="render-workflow-in.html"><span class="token function">renderWorkflowIn</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">workflow<span class="token operator">: </span><a href="../../../workflow-core/com.squareup.workflow1/-workflow/index.html">Workflow</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="render-workflow-in.html">PropsT</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="render-workflow-in.html">OutputT</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="render-workflow-in.html">RenderingT</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">scope<span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines/CoroutineScope///PointingToDeclaration/">CoroutineScope</span><span class="token punctuation">, </span></span><span class="parameter ">props<span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines.flow/StateFlow///PointingToDeclaration/">StateFlow</span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="render-workflow-in.html">PropsT</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">savedStateHandle<span class="token operator">: </span><a href="https://developer.android.com/reference/kotlin/androidx/lifecycle/SavedStateHandle.html">SavedStateHandle</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">interceptors<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="../../../workflow-core/com.squareup.workflow1/-workflow-interceptor/index.html">WorkflowInterceptor</a><span class="token operator">&gt;</span><span class="token operator"> = </span>emptyList()<span class="token punctuation">, </span></span><span class="parameter ">runtimeConfig<span class="token operator">: </span><a href="../../../workflow-core/com.squareup.workflow1/-runtime-config/index.html">RuntimeConfig</a><span class="token operator"> = </span>RuntimeConfig.DEFAULT_CONFIG<span class="token punctuation">, </span></span><span class="parameter ">onOutput<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><span class="token keyword"></span><a href="render-workflow-in.html">OutputT</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a><span class="token operator"> = </span>{}</span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines.flow/StateFlow///PointingToDeclaration/">StateFlow</span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="render-workflow-in.html">RenderingT</a><span class="token operator">&gt;</span></div><p class="paragraph">An Android <code class="lang-kotlin">ViewModel</code>-friendly wrapper for <a href="../../../workflow-core/com.squareup.workflow1/index.html">com.squareup.workflow1.renderWorkflowIn</a>, for use with a <a href="render-workflow-in.html">workflow</a> that requires input (<a href="render-workflow-in.html">props</a>) to run.</p><p class="paragraph">For example, for a workflow that uses <a href="https://developer.android.com/reference/kotlin/android/content/Intent.html">android.content.Intent</a> as its <code class="lang-kotlin">PropsT</code> type, you could do something like this:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@OptIn(WorkflowUiExperimentalApi::class)
class HelloIntentsWorkflowActivity : AppCompatActivity() {

  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)

    val model: HelloIntentsViewModel by viewModels()
    model.intents.value = intent

    setContentView(
      WorkflowLayout(this).apply { start(model.renderings) }
    )
  }

  override fun onNewIntent(intent: Intent) {
    super.onNewIntent(intent)

    val model: HelloIntentsViewModel by viewModels()
    model.intents.value = intent
  }
}

class HelloIntentsViewModel(savedState: SavedStateHandle) : ViewModel() {
  val intents = MutableStateFlow(Intent())

  @OptIn(WorkflowUiExperimentalApi::class)
  val renderings: StateFlow = renderWorkflowIn(
    workflow = HelloWorkflow,
    scope = this.viewModelScope,
    savedStateHandle = savedState,
    props = intents
  )
}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph">A <span data-unresolved-link="kotlinx.coroutines.flow/StateFlow///PointingToDeclaration/">StateFlow</span> of <a href="render-workflow-in.html">RenderingT</a>s that will emit any time the root workflow creates a new rendering.</p></span><h4 class="">Parameters</h4><div data-togglable="Parameters"><div class="table" data-togglable="Parameters"><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>workflow</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">The root workflow to render.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>scope</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">The <span data-unresolved-link="kotlinx.coroutines/CoroutineScope///PointingToDeclaration/">CoroutineScope</span> in which to launch the workflow runtime, typically from the androidx <code class="lang-kotlin">ViewModel.viewModelScope</code> extension. Any exceptions thrown in any workflows, after the initial render pass, will be handled by this scope, and cancelling this scope will cancel the workflow runtime and any running workers. Note that any dispatcher in this scope will <i>not</i> be used to execute the very first render pass.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>props</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Specifies the initial <a href="render-workflow-in.html">PropsT</a> to use to render the root workflow, and will cause a re-render when new props are emitted. If this flow completes <i>after</i> emitting at least one value, the runtime will <i>not</i> fail or stop, it will continue running with the last-emitted input. To only pass a single props value, simply create a <span data-unresolved-link="kotlinx.coroutines.flow/MutableStateFlow///PointingToDeclaration/">MutableStateFlow</span> with the value.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>saved</span><wbr><span>State</span><wbr><span><span>Handle</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Used to restore workflow state in a new process. Typically this is the <code class="lang-kotlin">savedState: SavedStateHandle</code> constructor parameter of an androidx <a href="https://developer.android.com/reference/kotlin/androidx/lifecycle/ViewModel.html">ViewModel</a>.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span><span>interceptors</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">An optional list of <a href="../../../workflow-core/com.squareup.workflow1/-workflow-interceptor/index.html">WorkflowInterceptor</a>s that will wrap every workflow rendered by the runtime. Interceptors will be invoked in 0-to-<code class="lang-kotlin">length</code> order: the interceptor at index 0 will process the workflow first, then the interceptor at index 1, etc.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>on</span><wbr><span><span>Output</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">A function that will be called whenever the root workflow emits an <a href="render-workflow-in.html">OutputT</a>. This is a suspend function, and is invoked synchronously within the runtime: if it suspends, the workflow runtime will effectively be paused until it returns. This means that it will propagate backpressure if used to forward outputs to a <span data-unresolved-link="kotlinx.coroutines.flow/Flow///PointingToDeclaration/">Flow</span> or <span data-unresolved-link="kotlinx.coroutines.channels/Channel///PointingToDeclaration/">Channel</span>, for example.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":workflow-ui:core-android:dokkaHtmlPartial/release" data-filterable-set=":workflow-ui:core-android:dokkaHtmlPartial/release"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><u><span>runtime</span><wbr><span><span>Config</span></span></u></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">Configuration for the Workflow Runtime.</p></div></div></div></div></div></div></div></div></div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>Â© 2023 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
    </div>
</div>

</body></html>

